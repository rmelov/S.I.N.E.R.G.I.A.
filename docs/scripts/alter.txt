--ALTER TABLE
----FOREIGN KEY
ALTER TABLE PROJETO
    ADD CONSTRAINT FK_PROJETO_STATUS
        FOREIGN KEY(ID_STATUS_PROJETO)
        REFERENCES STATUS_PROJETO(ID_STATUS_PROJETO)

ALTER TABLE PROJETO
    ADD CONSTRAINT FK_PROJETO_CRIACAO
        FOREIGN KEY(ID_DISCENTE_CURSO_INSTITUICAO)
        REFERENCES DISCENTE_CURSO_INSTITUICAO(ID_DISCENTE_CURSO_INSTITUICAO)

/*
ALTER TABLE PROJETO
    ADD CONSTRAINT FK_PROJETO_AVATAR
        FOREIGN KEY(ID_AVATAR)
        REFERENCES AVATAR(ID_AVATAR)
*/

ALTER TABLE REDE
    ADD CONSTRAINT FK_REDE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)


ALTER TABLE EMAIL
    ADD CONSTRAINT FK_EMAIL_DOMINIO_COMUM
        FOREIGN KEY(ID_DOMINIO_COMUM)
        REFERENCES DOMINIO_COMUM(ID_DOMINIO_COMUM)


ALTER TABLE TELEFONE_PROJETO
    ADD CONSTRAINT FK_TELEFONE_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE TELEFONE_PROJETO
    ADD CONSTRAINT FK_TELEFONE_PROJETO_TEL
        FOREIGN KEY(ID_TELEFONE)
        REFERENCES TELEFONE(ID_TELEFONE)

ALTER TABLE EMAIL_PROJETO
    ADD CONSTRAINT FK_EMAIL_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE EMAIL_PROJETO
    ADD CONSTRAINT FK_EMAIL_PROJETO_EMAIL
        FOREIGN KEY(ID_EMAIL)
        REFERENCES EMAIL(ID_EMAIL)

ALTER TABLE EMAIL_PROJETO
    ADD CONSTRAINT FK_EMAIL_PROJETO_EMAIL_INST
        FOREIGN KEY(ID_EMAIL_INSTITUCIONAL)
        REFERENCES EMAIL_INSTITUCIONAL(ID_EMAIL_INSTITUCIONAL)

ALTER TABLE REDE_PROJETO
    ADD CONSTRAINT FK_REDE_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE REDE_PROJETO
    ADD CONSTRAINT FK_REDE_PROJETO_REDE
        FOREIGN KEY(ID_REDE)
        REFERENCES REDE(ID_REDE)


ALTER TABLE HABILIDADE
    ADD CONSTRAINT FK_HABILIDADE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)


ALTER TABLE HABILIDADE_CURSO
    ADD CONSTRAINT FK_HABILIDADE_CURSO_HAB
        FOREIGN KEY(ID_HABILIDADE)
        REFERENCES HABILIDADE(ID_HABILIDADE)

ALTER TABLE HABILIDADE_CURSO
    ADD CONSTRAINT FK_HABILIDADE_CURSO_CURSO
        FOREIGN KEY(ID_CURSO)
        REFERENCES CURSO(ID_CURSO)


ALTER TABLE DISCENTE
    ADD CONSTRAINT FK_DISCENTE_STATUS
        FOREIGN KEY(ID_STATUS_DISCENTE)
        REFERENCES STATUS_DISCENTE(ID_STATUS_DISCENTE)

/*
ALTER TABLE DISCENTE
    ADD CONSTRAINT FK_DISCENTE_AVATAR
        FOREIGN KEY(ID_AVATAR)
        REFERENCES AVATAR(ID_AVATAR)
*/


ALTER TABLE TELEFONE_DISCENTE
    ADD CONSTRAINT FK_TELEFONE_DISCENTE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE TELEFONE_DISCENTE
    ADD CONSTRAINT FK_TELEFONE_DISCENTE_TEL
        FOREIGN KEY(ID_TELEFONE)
        REFERENCES TELEFONE(ID_TELEFONE)

ALTER TABLE EMAIL_DISCENTE
    ADD CONSTRAINT FK_EMAIL_DISCENTE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE EMAIL_DISCENTE
    ADD CONSTRAINT FK_EMAIL_DISCENTE_EMAIL
        FOREIGN KEY(ID_EMAIL)
        REFERENCES EMAIL(ID_EMAIL)

ALTER TABLE EMAIL_INSTITUCIONAL_DISCENTE
    ADD CONSTRAINT FK_EMAIL_INSTITUCIONAL_DISCENTE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE EMAIL_INSTITUCIONAL_DISCENTE
    ADD CONSTRAINT FK_EMAIL_INSTITUCIONAL_DISCENTE_EMAIL
        FOREIGN KEY(ID_EMAIL_INSTITUCIONAL)
        REFERENCES EMAIL_INSTITUCIONAL(ID_EMAIL_INSTITUCIONAL)


ALTER TABLE REDE_DISCENTE
    ADD CONSTRAINT FK_REDE_DISCENTE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE REDE_DISCENTE
    ADD CONSTRAINT FK_REDE_DISCENTE_REDE
        FOREIGN KEY(ID_REDE)
        REFERENCES REDE(ID_REDE)


ALTER TABLE DOMINIO_INSTITUICAO
    ADD CONSTRAINT FK_DOMINIO_INSTITUICAO_INST
        FOREIGN KEY(ID_INSTITUICAO)
        REFERENCES INSTITUICAO(ID_INSTITUICAO)


ALTER TABLE EMAIL_INSTITUCIONAL
    ADD CONSTRAINT FK_EMAIL_INSTITUCIONAL_DOMINIO_INST
        FOREIGN KEY(ID_DOMINIO_INSTITUICAO)
        REFERENCES DOMINIO_INSTITUICAO(ID_DOMINIO_INSTITUICAO)



ALTER TABLE CURSO_INSTITUICAO
    ADD CONSTRAINT FK_CURSO_INSTITUICAO_CURSO
        FOREIGN KEY(ID_CURSO)
        REFERENCES CURSO(ID_CURSO)

ALTER TABLE CURSO_INSTITUICAO
    ADD CONSTRAINT FK_CURSO_INSTITUICAO_INST
        FOREIGN KEY(ID_INSTITUICAO)
        REFERENCES INSTITUICAO(ID_INSTITUICAO)


ALTER TABLE DISCENTE_CURSO_INSTITUICAO
    ADD CONSTRAINT FK_DISCENTE_CURSO_INSTITUICAO_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE DISCENTE_CURSO_INSTITUICAO
    ADD CONSTRAINT FK_DISCENTE_CURSO_INSTITUICAO_CURSO_INST
        FOREIGN KEY(ID_CURSO_INSTITUICAO)
        REFERENCES CURSO_INSTITUICAO(ID_CURSO_INSTITUICAO)



ALTER TABLE DISCENTE_HABILIDADE
    ADD CONSTRAINT FK_NIVEL_DISCENTE_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)

ALTER TABLE DISCENTE_HABILIDADE
    ADD CONSTRAINT FK_NIVEL_DISCENTE_HAB
        FOREIGN KEY(ID_HABILIDADE)
        REFERENCES HABILIDADE(ID_HABILIDADE)

ALTER TABLE DISCENTE_HABILIDADE
    ADD CONSTRAINT FK_NIVEL_DISCENTE_NIVEL
        FOREIGN KEY(ID_NIVEL_HABILIDADE)
        REFERENCES NIVEL_HABILIDADE(ID_NIVEL_HABILIDADE)



ALTER TABLE CURSO_REQUISITADO
    ADD CONSTRAINT FK_CURSO_REQUISITADO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE CURSO_REQUISITADO
    ADD CONSTRAINT FK_CURSO_REQUISITADO_CURSO
        FOREIGN KEY(ID_CURSO)
        REFERENCES CURSO(ID_CURSO)



ALTER TABLE HABILIDADE_REQUISITADA
    ADD CONSTRAINT FK_HABILIDADE_REQUISITADA_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE HABILIDADE_REQUISITADA
    ADD CONSTRAINT FK_HABILIDADE_REQUISITADA_HAB
        FOREIGN KEY(ID_HABILIDADE)
        REFERENCES HABILIDADE(ID_HABILIDADE)

ALTER TABLE HABILIDADE_REQUISITADA
    ADD CONSTRAINT FK_HABILIDADE_REQUISITADA_NIVEL_HAB
        FOREIGN KEY(ID_NIVEL_HABILIDADE)
        REFERENCES NIVEL_HABILIDADE(ID_NIVEL_HABILIDADE)



ALTER TABLE AUTORIA_PROJETO
    ADD CONSTRAINT FK_AUTORIA_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE AUTORIA_PROJETO
    ADD CONSTRAINT FK_AUTORIA_PROJETO_DISC
        FOREIGN KEY(ID_DISCENTE_CURSO_INSTITUICAO)
        REFERENCES DISCENTE_CURSO_INSTITUICAO(ID_DISCENTE_CURSO_INSTITUICAO)

ALTER TABLE AUTORIA_PROJETO
    ADD CONSTRAINT FK_AUTORIA_PROJETO_ORDEM_AUTORIA
        FOREIGN KEY(ID_ORDEM_AUTORIA)
        REFERENCES ORDEM_AUTORIA(ID_ORDEM_AUTORIA)



ALTER TABLE CLASSIFICACAO
    ADD CONSTRAINT FK_CLASSIFICACAO_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)


ALTER TABLE CLASSIFICACAO_PROJETO
    ADD CONSTRAINT FK_CLASSIFICACAO_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE CLASSIFICACAO_PROJETO
    ADD CONSTRAINT FK_CLASSIFICACAO_PROJETO_CLAS
        FOREIGN KEY(ID_CLASSIFICACAO)
        REFERENCES CLASSIFICACAO(ID_CLASSIFICACAO)



ALTER TABLE AREA_ATUACAO
    ADD CONSTRAINT FK_AREA_ATUACAO_DISC
        FOREIGN KEY(ID_DISCENTE)
        REFERENCES DISCENTE(ID_DISCENTE)



ALTER TABLE AREA_ATUACAO_PROJETO
    ADD CONSTRAINT FK_AREA_ATUACAO_PROJETO_PROJ
        FOREIGN KEY(ID_PROJETO)
        REFERENCES PROJETO(ID_PROJETO)

ALTER TABLE AREA_ATUACAO_PROJETO
    ADD CONSTRAINT FK_AREA_ATUACAO_PROJETO_AREA
        FOREIGN KEY(ID_AREA_ATUACAO)
        REFERENCES AREA_ATUACAO(ID_AREA_ATUACAO)



ALTER TABLE PARAMETRO_HIERARQUIA
    ADD CONSTRAINT FK_PARAMETRO_HIERARQUIA_STATUS_PROJ
        FOREIGN KEY(ID_STATUS_PROJETO)
        REFERENCES STATUS_PROJETO(ID_STATUS_PROJETO)

ALTER TABLE PARAMETRO_HIERARQUIA
    ADD CONSTRAINT FK_PARAMETRO_HIERARQUIA_STATUS_DISC
        FOREIGN KEY(ID_STATUS_DISCENTE)
        REFERENCES STATUS_DISCENTE(ID_STATUS_DISCENTE)

ALTER TABLE PARAMETRO_HIERARQUIA
    ADD CONSTRAINT FK_PARAMETRO_HIERARQUIA_ORDEM_AUTORIA
        FOREIGN KEY(ID_ORDEM_AUTORIA)
        REFERENCES ORDEM_AUTORIA(ID_ORDEM_AUTORIA)



----DEFAULT
ALTER TABLE PROJETO 
    ADD CONSTRAINT DF_PROJETO_DATA
        DEFAULT GETDATE() FOR DATA_INICIO;



----CHECK
ALTER TABLE PARAMETRO_HIERARQUIA
    ADD CONSTRAINT CK_MINIMO_PARAMETRO_HIERARQUIA_DESI
    CHECK (LEN(TRIM(DESIGNACAO_PARAMETRO)) BETWEEN 1 AND 255);

ALTER TABLE PARAMETRO_HIERARQUIA
    ADD CONSTRAINT CK_MINIMO_PARAMETRO_HIERARQUIA_DESC
    CHECK (LEN(TRIM(DESCRICAO_PARAMETRO)) BETWEEN 1 AND 500);

ALTER TABLE PARAMETRO_HIERARQUIA 
    ADD CONSTRAINT CK_PARAMETRO_HIERARQUIA_XOR
    CHECK(
        (
            CASE WHEN ID_STATUS_PROJETO IS NOT NULL THEN 1 ELSE 0 END +
            CASE WHEN ID_STATUS_DISCENTE IS NOT NULL THEN 1 ELSE 0 END +
            CASE WHEN ID_ORDEM_AUTORIA IS NOT NULL THEN 1 ELSE 0 END
        ) = 1
    );



ALTER TABLE PROJETO
    ADD CONSTRAINT CK_MINIMO_PROJETO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_PROJETO)) BETWEEN 1 AND 255);

ALTER TABLE PROJETO
    ADD CONSTRAINT CK_MINIMO_PROJETO_DESC
    CHECK (LEN(TRIM(DESCRICAO_PROJETO)) BETWEEN 30 AND 4000);

ALTER TABLE PROJETO
    ADD CONSTRAINT CK_PRAZO_PROJETO
        CHECK(PRAZO_CONCLUSAO >= DATA_INICIO);

ALTER TABLE PROJETO
    ADD CONSTRAINT CK_PROJETO_SLUG_CHAR
    CHECK(
        SLUG_PROJETO NOT LIKE '% %'
        AND SLUG_PROJETO NOT LIKE '%[^a-zA-Z0-9._-]%'
    );

ALTER TABLE PROJETO
    ADD CONSTRAINT CK_MINIMO_PROJETO_SLUG
    CHECK (LEN(TRIM(SLUG_PROJETO)) BETWEEN 1 AND 42);



ALTER TABLE EMAIL_PROJETO 
    ADD CONSTRAINT CK_EMAIL_PROJETO_UNICIDADE
    CHECK(
        (ID_EMAIL IS NOT NULL AND ID_EMAIL_INSTITUCIONAL IS NULL) 
        OR 
        (ID_EMAIL IS NULL AND ID_EMAIL_INSTITUCIONAL IS NOT NULL)
    );



ALTER TABLE DISCENTE
    ADD CONSTRAINT CK_MINIMO_DISCENTE_DESI
    CHECK (LEN(TRIM(DESIGNACAO_DISCENTE)) BETWEEN 1 AND 255);

ALTER TABLE DISCENTE
    ADD CONSTRAINT CK_DISCENTE_SLUG_CHAR
    CHECK(
        SLUG_DISCENTE NOT LIKE '% %'
        AND SLUG_DISCENTE NOT LIKE '%[^a-zA-Z0-9._-]%'
    );

ALTER TABLE DISCENTE
    ADD CONSTRAINT CK_MINIMO_DISCENTE_SLUG
    CHECK (LEN(TRIM(SLUG_DISCENTE)) BETWEEN 1 AND 42);



ALTER TABLE EMAIL
    ADD CONSTRAINT CK_MINIMO_EMAIL_ENDE
    CHECK (LEN(TRIM(ENDERECO_EMAIL)) BETWEEN 1 AND 127);

ALTER TABLE EMAIL
    ADD CONSTRAINT CK_EMAIL_PREFIXO_CHAR
    CHECK(
        ENDERECO_EMAIL NOT LIKE '%@%'
        AND ENDERECO_EMAIL NOT LIKE '% %'
        AND ENDERECO_EMAIL NOT LIKE '%[^a-zA-Z0-9._-]%'
    );



ALTER TABLE EMAIL_INSTITUCIONAL
    ADD CONSTRAINT CK_MINIMO_EMAIL_INSTITUCIONAL_ENDE
    CHECK (LEN(TRIM(ENDERECO_EMAIL_INSTITUCIONAL)) BETWEEN 2 AND 255);

ALTER TABLE EMAIL_INSTITUCIONAL
    ADD CONSTRAINT CK_EMAIL_INSTITUCIONAL_CHAR
    CHECK(
        ENDERECO_EMAIL_INSTITUCIONAL NOT LIKE '% %'
        AND ENDERECO_EMAIL_INSTITUCIONAL LIKE '%@%._%'
        AND ENDERECO_EMAIL_INSTITUCIONAL NOT LIKE '%@%@%'
        AND ENDERECO_EMAIL_INSTITUCIONAL NOT LIKE '%[^a-zA-Z0-9.@_-]%'
    );


ALTER TABLE TELEFONE
    ADD CONSTRAINT CK_TELEFONE_FORMATO
        CHECK(
            NUMERO_TELEFONE LIKE '+%' 
            AND 
            NUMERO_TELEFONE NOT LIKE '+%[^0-9]%'
            AND
            (
                (NUMERO_TELEFONE LIKE '+55%' AND LEN(NUMERO_TELEFONE) BETWEEN 13 AND 14)
                OR
                -- Regra Internacional: Entre 8 e 16 dÃ­gitos (considerando o +)
                (NUMERO_TELEFONE NOT LIKE '+55%' AND LEN(NUMERO_TELEFONE) BETWEEN 9 AND 17)
            )
        );



ALTER TABLE STATUS_PROJETO
    ADD CONSTRAINT CK_MINIMO_STATUS_PROJETO_HIER
    CHECK (HIERARQUIA_STATUS_PROJETO >= 1);

ALTER TABLE STATUS_PROJETO
    ADD CONSTRAINT CK_MINIMO_STATUS_PROJETO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_STATUS_PROJETO)) BETWEEN 1 AND 255);



ALTER TABLE STATUS_DISCENTE
    ADD CONSTRAINT CK_MINIMO_STATUS_DISCENTE_HIER
    CHECK (HIERARQUIA_STATUS_DISCENTE >= 1);

ALTER TABLE STATUS_DISCENTE
    ADD CONSTRAINT CK_MINIMO_STATUS_DISCENTE_DESI
    CHECK (LEN(TRIM(DESIGNACAO_STATUS_DISCENTE)) BETWEEN 1 AND 255);



ALTER TABLE CURSO
    ADD CONSTRAINT CK_MINIMO_CURSO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_CURSO)) BETWEEN 1 AND 255);



ALTER TABLE INSTITUICAO
    ADD CONSTRAINT CK_MINIMO_INSTITUICAO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_INSTITUICAO)) BETWEEN 1 AND 255);

ALTER TABLE INSTITUICAO
    ADD CONSTRAINT CK_MINIMO_INSTITUICAO_ACRONIMO_DESI
    CHECK (LEN(TRIM(ACRONIMO_INSTITUICAO)) BETWEEN 1 AND 255);



ALTER TABLE DOMINIO_INSTITUICAO
    ADD CONSTRAINT CK_MINIMO_DOMINIO_INSTITUCIONAL_SUFIX
    CHECK (LEN(TRIM(SUFIXO_DOMINIO)) BETWEEN 1 AND 129);

ALTER TABLE DOMINIO_INSTITUICAO
    ADD CONSTRAINT CK_DOMINIO_INSTITUCIONAL_CHAR
    CHECK(
        SUFIXO_DOMINIO NOT LIKE '% %'
        AND SUFIXO_DOMINIO LIKE '@%'
        AND SUFIXO_DOMINIO NOT LIKE '@%[^a-z0-9.-]%'
    );



ALTER TABLE DOMINIO_COMUM
    ADD CONSTRAINT CK_MINIMO_DOMINIO_COMUM_SUFIX
    CHECK (LEN(TRIM(SUFIXO_DOMINIO)) BETWEEN 1 AND 128);

ALTER TABLE DOMINIO_COMUM
    ADD CONSTRAINT CK_DOMINIO_COMUM_CHAR
    CHECK(
        SUFIXO_DOMINIO NOT LIKE '% %'
        AND SUFIXO_DOMINIO LIKE '@%'
        AND SUFIXO_DOMINIO NOT LIKE '@%[^a-z0-9.-]%'
    );



ALTER TABLE REDE
    ADD CONSTRAINT CK_MINIMO_REDE_DESI
    CHECK (LEN(TRIM(DESIGNACAO_REDE)) BETWEEN 1 AND 255);

ALTER TABLE REDE
    ADD CONSTRAINT CK_MINIMO_NOME_DOMINIO_REDE
    CHECK (LEN(TRIM(NOME_DOMINIO_REDE)) BETWEEN 1 AND 255);

ALTER TABLE REDE
    ADD CONSTRAINT CK_REDE_DOMINIO_CHAR
    CHECK(
        NOME_DOMINIO_REDE NOT LIKE '% %'
        AND NOME_DOMINIO_REDE NOT LIKE '%[^a-zA-Z0-9.-]%'
    );



ALTER TABLE HABILIDADE
    ADD CONSTRAINT CK_MINIMO_HABILIDADE_DESI
    CHECK (LEN(TRIM(DESIGNACAO_HABILIDADE)) BETWEEN 1 AND 255);



ALTER TABLE NIVEL_HABILIDADE
    ADD CONSTRAINT CK_MINIMO_NIVEL_HABILIDADE_HIER
    CHECK (HIERARQUIA_NIVEL >= 1);

ALTER TABLE NIVEL_HABILIDADE
    ADD CONSTRAINT CK_MINIMO_NIVEL_HABILIDADE_DESI
    CHECK (LEN(TRIM(DESIGNACAO_NIVEL)) BETWEEN 1 AND 255);



ALTER TABLE CLASSIFICACAO
    ADD CONSTRAINT CK_MINIMO_CLASSIFICACAO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_CLASSIFICACAO)) BETWEEN 1 AND 255);



ALTER TABLE AREA_ATUACAO
    ADD CONSTRAINT CK_MINIMO_AREA_ATUACAO_DESI
    CHECK (LEN(TRIM(DESIGNACAO_AREA_ATUACAO)) BETWEEN 1 AND 255);



ALTER TABLE ORDEM_AUTORIA
    ADD CONSTRAINT CK_MINIMO_ORDEM_AUTORIA_HIER
    CHECK (HIERARQUIA_ORDEM_AUTORIA >= 1);

ALTER TABLE ORDEM_AUTORIA
    ADD CONSTRAINT CK_MINIMO_ORDEM_AUTORIA_DESI
    CHECK (LEN(TRIM(DESIGNACAO_ORDEM_AUTORIA)) BETWEEN 1 AND 255);



ALTER TABLE REDE_PROJETO
    ADD CONSTRAINT CK_MINIMO_REDE_PROJETO_URL
    CHECK (LEN(TRIM(URL_REDE)) BETWEEN 1 AND 255);

ALTER TABLE REDE_PROJETO
    ADD CONSTRAINT CK_REDE_PROJETO_URL_CHAR
    CHECK(
        URL_REDE NOT LIKE '% %'
        AND URL_REDE NOT LIKE '%[^a-zA-Z0-9._:/-]%'
    );



ALTER TABLE REDE_DISCENTE
    ADD CONSTRAINT CK_MINIMO_REDE_DISCENTE_URL
    CHECK (LEN(TRIM(URL_REDE)) BETWEEN 1 AND 255);

ALTER TABLE REDE_DISCENTE
    ADD CONSTRAINT CK_REDE_DISCENTE_URL_CHAR
    CHECK(
        URL_REDE NOT LIKE '% %'
        AND URL_REDE NOT LIKE '%[^a-zA-Z0-9._:/-]%'
    );